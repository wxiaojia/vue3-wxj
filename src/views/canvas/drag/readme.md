# 拖拽功能

+ 如何使元素支持拖拽
实现组件的自由拖动的核心就是 html5 中新添加的全局属性 draggable 属性，该属性规定了元素是否可进行拖动。属性值如下所示：

true：规定元素的可拖动的
false：规定元素不可拖动
auto：使用浏览器的默认行为
当我们在元素元素标签中添加 draggable 属性时，该元素就可以进行拖动操作了。

+ 拖拽事件
- 事件分类
元素可以进行拖动了，我们就可以通过元素的拖动事件进行拖动开始-结束的一些逻辑控制了，拖动事件主要分为两个类别，
一类是拖动元素可以触发的：
dragstart：鼠标点中元素并且开始移动时触发
drag：拖拽过程中持续触发
dragend：拖拽结束松开鼠标时触发

另一类是，是当拖拽元素到某个目标元素时，目标元素会触发的：
dragenter：拖拽元素到目标上时触发
dragover：拖动元素在目标元素中，持续触发
dragleave：离开目标元素时触发
drop：拖放元素到了目标元素中松开鼠标时触发

- 拖动放置行为
在拖动事件中，我们会获取到拖动的事件对象 (e)，在拖动对象中我们能获取到一个重要的属性 dataTransfer ，我们可以通过 dataTransfer 的 dropEffect 属性控制被拖动的元素的放置行为，其值的说明如下所示。

none：不能把元素拖放至此
move：移动到目标
copy：复制到目标
link：目标打开拖动元素（拖动元素必须是链接并有URL）

+ 页面设计器的实现
（index.vue）
在组件列表渲染时，为每个组件设置一下 dragstart 事件，在该事件中我们需要做如下处理：

设置拖动元素的放置行为为移动，即move。
组件在目标元素经过时，必须要阻止默认行为，否则不能触发drop。
设置组件离开目标元素时放置行为为不能拖放，即none。
拖动元素在目标元素松手时添加元素到画布，即将组件元数据添加到list2中，元素所对应的元数据记录也了这个组件在画面中的坐标位置。
然后在dragend事件中取听以上动作。

mousemove 已获取到移动的值，拿到clientXY,重新赋值给 top left，这样在画布中也可以自由移动了
